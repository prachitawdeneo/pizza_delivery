{"ast":null,"code":"var _jsxFileName = \"C:\\\\Training\\\\JS_Fullstack\\\\Mongo_DB\\\\pizza_delivery\\\\frontend\\\\src\\\\components\\\\Checkout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport Navv from './Navv';\nimport { Container, Form, Button } from 'react-bootstrap';\nimport { getPizza, plcOrder } from '../config/Myservice';\nimport { useNavigate } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Checkout() {\n  _s();\n\n  const [orders, setOrders] = useState([]);\n  const creditInp = useRef(null);\n  const navigate = useNavigate(); // const [total,setTotal]=useState(0)\n\n  let total = 0;\n  let totalqty = 0;\n  orders.forEach(ord => {\n    total = total + ord.price;\n    totalqty = totalqty + ord.quantity; // console.log(total)\n  });\n  useEffect(() => {\n    getPizza().then(res => {\n      console.log(res.data);\n      setOrders(res.data.orderData);\n    });\n    console.log(total);\n  }, []);\n\n  const placeOrder = event => {\n    event.preventDefault();\n\n    if (creditInp.current.value.length === 16) {\n      let data = {\n        credit: creditInp.current.value,\n        quantity: totalqty,\n        price: total\n      };\n      console.log(data);\n      plcOrder(data).then(res => {\n        console.log(res.data);\n      });\n      alert(\"Order Placed!\");\n      navigate(\"/orderplaced\", {\n        replace: true\n      });\n    } else {\n      alert(\"Enter Valid Card number\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navv, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: placeOrder,\n        method: \"post\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"credit\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Credirt Card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Credit Card number...\",\n            ref: creditInp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Order Total : \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [total, \"/-\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Checkout, \"sYrIqceTplJSItcO2bPZsq0hzUA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["C:/Training/JS_Fullstack/Mongo_DB/pizza_delivery/frontend/src/components/Checkout.js"],"names":["React","useEffect","useState","useRef","Navv","Container","Form","Button","getPizza","plcOrder","useNavigate","Checkout","orders","setOrders","creditInp","navigate","total","totalqty","forEach","ord","price","quantity","then","res","console","log","data","orderData","placeOrder","event","preventDefault","current","value","length","credit","alert","replace"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,EAAiCC,MAAjC,QAA8C,OAA9C;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,SAAT,EAAmBC,IAAnB,EAAwBC,MAAxB,QAAsC,iBAAtC;AACA,SAASC,QAAT,EAAmBC,QAAnB,QAAmC,qBAAnC;AACA,SAASC,WAAT,QAA4B,cAA5B;;AAEA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AAC/B,QAAM,CAACC,MAAD,EAAQC,SAAR,IAAmBX,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAMY,SAAS,GAACX,MAAM,CAAC,IAAD,CAAtB;AACA,QAAMY,QAAQ,GAACL,WAAW,EAA1B,CAH+B,CAI/B;;AACA,MAAIM,KAAK,GAAC,CAAV;AACA,MAAIC,QAAQ,GAAC,CAAb;AACAL,EAAAA,MAAM,CAACM,OAAP,CAAeC,GAAG,IAAI;AAClBH,IAAAA,KAAK,GAACA,KAAK,GAAGG,GAAG,CAACC,KAAlB;AACAH,IAAAA,QAAQ,GAACA,QAAQ,GAAGE,GAAG,CAACE,QAAxB,CAFkB,CAGlB;AACH,GAJD;AAKApB,EAAAA,SAAS,CAAC,MAAI;AACVO,IAAAA,QAAQ,GACPc,IADD,CACMC,GAAG,IAAE;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAb,MAAAA,SAAS,CAACU,GAAG,CAACG,IAAJ,CAASC,SAAV,CAAT;AACH,KAJD;AAMAH,IAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ;AACH,GARQ,EAQP,EARO,CAAT;;AAUA,QAAMY,UAAU,GAAEC,KAAD,IAAS;AACtBA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAGhB,SAAS,CAACiB,OAAV,CAAkBC,KAAlB,CAAwBC,MAAxB,KAAmC,EAAtC,EAAyC;AACrC,UAAIP,IAAI,GAAC;AAACQ,QAAAA,MAAM,EAACpB,SAAS,CAACiB,OAAV,CAAkBC,KAA1B;AAAgCX,QAAAA,QAAQ,EAACJ,QAAzC;AAAkDG,QAAAA,KAAK,EAACJ;AAAxD,OAAT;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAjB,MAAAA,QAAQ,CAACiB,IAAD,CAAR,CACCJ,IADD,CACMC,GAAG,IAAE;AACPC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACH,OAHD;AAIAS,MAAAA,KAAK,CAAC,eAAD,CAAL;AACApB,MAAAA,QAAQ,CAAC,cAAD,EAAgB;AAACqB,QAAAA,OAAO,EAAC;AAAT,OAAhB,CAAR;AACH,KATD,MAUI;AACAD,MAAAA,KAAK,CAAC,yBAAD,CAAL;AACH;AACJ,GAfD;;AAgBA,sBACI;AAAA,4BACI,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,SAAD;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,IAAD;AAAM,QAAA,QAAQ,EAAEP,UAAhB;AAA4B,QAAA,MAAM,EAAC,MAAnC;AAAA,gCACd,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,MAAtB;AAA6B,UAAA,SAAS,EAAC,QAAvC;AAAA,kCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AAAc,YAAA,IAAI,EAAC,MAAnB;AAA0B,YAAA,WAAW,EAAC,6BAAtC;AAAoE,YAAA,GAAG,EAAEd;AAAzE;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADc,eAKZ;AAAA,oDAAiB;AAAA,uBAAIE,KAAJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,gBALY,eAMd,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,SAAhB;AAA0B,UAAA,IAAI,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANc;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAkBH;;GAxDuBL,Q;UAGLD,W;;;KAHKC,Q","sourcesContent":["import React,{useEffect,useState,useRef} from 'react'\r\nimport Navv from './Navv';\r\nimport { Container,Form,Button } from 'react-bootstrap';\r\nimport { getPizza, plcOrder } from '../config/Myservice';\r\nimport { useNavigate } from 'react-router';\r\n\r\nexport default function Checkout() {\r\n    const [orders,setOrders]=useState([]);\r\n    const creditInp=useRef(null);\r\n    const navigate=useNavigate();\r\n    // const [total,setTotal]=useState(0)\r\n    let total=0\r\n    let totalqty=0\r\n    orders.forEach(ord => {\r\n        total=total + ord.price;\r\n        totalqty=totalqty + ord.quantity;\r\n        // console.log(total)\r\n    });\r\n    useEffect(()=>{\r\n        getPizza()\r\n        .then(res=>{\r\n            console.log(res.data)\r\n            setOrders(res.data.orderData)\r\n        })\r\n        \r\n        console.log(total)\r\n    },[])\r\n\r\n    const placeOrder=(event)=>{\r\n        event.preventDefault();\r\n        if(creditInp.current.value.length === 16){\r\n            let data={credit:creditInp.current.value,quantity:totalqty,price:total}\r\n            console.log(data)\r\n            plcOrder(data)\r\n            .then(res=>{\r\n                console.log(res.data)\r\n            })\r\n            alert(\"Order Placed!\")\r\n            navigate(\"/orderplaced\",{replace:true})\r\n        }\r\n        else{\r\n            alert(\"Enter Valid Card number\")\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <Navv/>\r\n            <Container>\r\n                <h1>Checkout</h1>\r\n                <Form onSubmit={placeOrder} method=\"post\">\r\n  <Form.Group className=\"mb-3\" controlId=\"credit\">\r\n    <Form.Label>Credirt Card</Form.Label>\r\n    <Form.Control type=\"text\" placeholder=\"Enter Credit Card number...\" ref={creditInp}/>\r\n  </Form.Group>\r\n    <p>Order Total : <b>{total}/-</b></p>\r\n  <Button variant=\"primary\" type=\"submit\">\r\n    Submit\r\n  </Button>\r\n</Form>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}